!function(a,b,c,d){function h(b,c,d,h){if("undefined"==typeof c)throw f+'Missing "dataList" property';if("undefined"==typeof d)throw f+'Missing "hidden input" property';this.dataList=c,this.$hidden=d,this.element=b,this.options=a.extend({},g,h),this._defaults=g,this._name=e.toLowerCase(),this.init()}var e="rowSelector",f=e+"_plugin: ",g={li:{class:""},selected:null,selectedId:"selected-item",globalClass:"item_choice",defaultInput:"<input type='hidden' class='"+e.toLowerCase()+"-hidden'>",input:a("."+e.toLowerCase()+"-hidden")};h.prototype={strtoclass:function(a){return"."+a},getListItemHtml:function(a){return"<li class='"+this._name+"-item"+this.options.li.class+"' data-"+this._name+"-id='"+a.id+"'>"+a.name+"</li>"},getListHtml:function(){var b="<ul>";return a.each(this.dataList,a.proxy(function(a,c){b+=this.getListItemHtml(c)},this)),b+="</ul>"},setItemAsSelected:function(b){this.selected=a(b).data(this._name+"-id"),a(this.$hidden).val(this.selected),console.log("Selected id: "+this.selected)},setElementStyle:function(b){a(this.element).find(this.strtoclass(this.options.selectedId)).removeClass(this.options.selectedId),a(b).addClass(this.options.selectedId)},clickItemHandler:function(a){this.setItemAsSelected(a.target),this.setElementStyle(a.target)},updateListData:function(b){this.dataList=b,a(this.element).empty(),a(this.element).html(this.getListHtml())},init:function(){a(this.element).addClass(this.options.globalClass),a(this.element).empty(),a(this.element).html(this.getListHtml()),1==this.selected&&(console.log("why you null"),this.setItemAsSelected()),a(this.element).on("click",this.strtoclass(this._name+"-item"),a.proxy(function(a){this.clickItemHandler(a)},this)),a(this.element).on("rowInput:update",a.proxy(function(a){this.updateListData(a.dataList)},this))}},a.fn[e]=function(b,c,d){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new h(this,b,c,d))})}}(jQuery,window,document);